# ç¬¬ä¸‰ç« ï¼šå®æ—¶æµå¼æ™ºèƒ½ä½“

[English Version](./README.md)

## ç¬¬ä¸‰ç« æ–°å¢åŠŸèƒ½

ç¬¬ä¸‰ç« åœ¨ç¬¬äºŒç«  ReAct æ™ºèƒ½ä½“åŸºç¡€ä¸Šå¢åŠ äº†**å®æ—¶æµå¼åŠŸèƒ½**å’Œæ”¹è¿›çš„é…ç½®ç®¡ç†ï¼š

### ğŸš€ å®æ—¶æµå¼è¾“å‡º
- **é€å­—ç¬¦æ˜¾ç¤º**ï¼šè§‚çœ‹ AI å“åº”çš„å®æ—¶ç”Ÿæˆè¿‡ç¨‹
- **æµå¼å·¥å…·è°ƒç”¨**ï¼šå·¥å…·æ‰§è¡Œä¸æµå¼è¾“å‡ºæ— ç¼é…åˆ
- **ä¼˜é›…é™çº§**ï¼šæµå¼å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°æ ‡å‡†æ¨¡å¼
- **ç”¨æˆ·ä½“éªŒæå‡**ï¼šæ— éœ€ç­‰å¾…å®Œæ•´å“åº”

### ğŸ”§ é…ç½®å¤–éƒ¨åŒ–
- **ç¯å¢ƒå˜é‡**ï¼šAPI å¯†é’¥å’Œè®¾ç½®ç§»è‡³ `.env` æ–‡ä»¶
- **å®‰å…¨æ”¹è¿›**ï¼šæºä»£ç ä¸­æ— ç¡¬ç¼–ç å‡­æ®
- **çµæ´»éƒ¨ç½²**ï¼šä¸åŒç¯å¢ƒæ˜“äºé…ç½®

## ç”¨æˆ·ä½“éªŒå¯¹æ¯”

**ç¬¬äºŒç« ï¼ˆæ ‡å‡†æ¨¡å¼ï¼‰**ï¼š
```
ç”¨æˆ·ï¼šå¸®æˆ‘åˆ—å‡ºæ–‡ä»¶
[ç­‰å¾… 3-5 ç§’]
AIï¼šæˆ‘æ¥å¸®æ‚¨åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶...
```

**ç¬¬ä¸‰ç« ï¼ˆæµå¼æ¨¡å¼ï¼‰** âœ¨ï¼š
```
ç”¨æˆ·ï¼šå¸®æˆ‘åˆ—å‡ºæ–‡ä»¶
AIï¼šæˆ‘æ¥å¸®æ‚¨åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶...
    [æ–‡æœ¬å®æ—¶æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…]
```

## æŠ€æœ¯å®ç°

### æµå¼ API å®¢æˆ·ç«¯
[`APIClient`](src/core/api_client.py) ç°åœ¨æ”¯æŒåŒæ¨¡å¼ï¼š

```python
# æ ‡å‡†æ¨¡å¼ï¼ˆå‘åå…¼å®¹ï¼‰
def get_completion(self, request_params) -> Message

# æµå¼æ¨¡å¼ï¼ˆæ–°åŠŸèƒ½ï¼‰
def get_completion_stream(self, request_params) -> Generator[str, None, None]
```

### å¢å¼ºçš„å¯¹è¯ç®¡ç†å™¨
[`Conversation`](src/core/conversation.py) æµå¼åŠŸèƒ½ï¼š

```python
def print_streaming_content(self, content_chunk):
    """å®æ—¶æ˜¾ç¤º AI å“åº”ç‰‡æ®µ"""
    
def recursive_message_handling(self, message):
    """å¢å¼ºæ”¯æŒå¸¦å·¥å…·è°ƒç”¨çš„æµå¼å¤„ç†"""
```

### é…ç½®ç®¡ç†
`.env` ä¸­çš„ç¯å¢ƒå˜é‡ï¼š
```env
OPENAI_API_KEY=your_api_key_here
OPENAI_BASE_URL=https://openrouter.ai/api/v1
OPENAI_MODEL=anthropic/claude-3.5-sonnet
```

## æµå¼è¾“å‡ºä¼˜åŠ¿

- **å³æ—¶åé¦ˆ**ï¼šç”¨æˆ·ç«‹å³çœ‹åˆ°è¿›åº¦
- **æ›´ä½³æ„ŸçŸ¥æ€§èƒ½**ï¼šå³ä½¿å»¶è¿Ÿç›¸åŒä¹Ÿæ„Ÿè§‰æ›´å¿«
- **åŠŸèƒ½ä¿æŒ**ï¼šç¬¬äºŒç« æ‰€æœ‰åŠŸèƒ½åœ¨æµå¼æ¨¡å¼ä¸‹æ­£å¸¸å·¥ä½œ
- **é”™è¯¯æ¢å¤**ï¼šè‡ªåŠ¨å›é€€ç¡®ä¿å¯é æ€§

## æŠ€æœ¯ç»†èŠ‚

### æµå¤„ç†
```python
for chunk in stream:
    if chunk.choices[0].delta.content:
        content_chunk = chunk.choices[0].delta.content
        yield content_chunk  # å®æ—¶æ˜¾ç¤º
```

### å·¥å…·è°ƒç”¨æµå¼å¤„ç†
```python
# åœ¨æµå¼è¿‡ç¨‹ä¸­å¢é‡æ„å»ºå·¥å…·è°ƒç”¨
if hasattr(chunk.choices[0].delta, 'tool_calls'):
    # ç´¯ç§¯å·¥å…·è°ƒç”¨æ•°æ®
    # å®Œæˆæ—¶æ‰§è¡Œ
```

## ä¸‹ä¸€æ­¥

â†’ **ç¬¬å››ç« **ï¼šä¸ºé•¿æœŸä¼šè¯æ·»åŠ æ™ºèƒ½å¯¹è¯å†å²ç®¡ç†å’Œæˆæœ¬è·Ÿè¸ªã€‚
